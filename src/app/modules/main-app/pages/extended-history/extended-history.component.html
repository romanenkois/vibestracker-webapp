@if (this.loadingState() !== 'nothing-to-load') {
  <div>
    <div class="p-2 sm:py-4 sm:px-8 gap-4 flex flex-col md:flex-row justify-between items-center">
      <div>
        @if (this.userExtendedDataLoaded()) {}
        <p class="text-gray">
          <span>Uploaded data from</span>
          <span class="text-xl font-black text-pure-white">
            {{ this.listeningDataRecord()?.startingDate | date: 'dd.MM.yyyy' }}
          </span>
          <span>to</span>
          <span class="text-xl font-black text-pure-white">
            {{ this.listeningDataRecord()?.endingDate | date: 'dd.MM.yyyy' }}
          </span>
        </p>
        <p class="text-gray">
          <span>Total listening time:&nbsp;</span>
          <span class="text-xl font-black text-pure-white">
            {{ this.listeningDataRecord()?.totalMsPlayed || 0 | timeSimple }}
          </span>
        </p>
        <p class="text-gray">
          <span>Number of records:</span>
          <span class="text-xl font-black text-pure-white">
            {{ this.listeningDataRecord()?.totalRecordsNumber || 0 }}
          </span>
        </p>
        <p class="text-gray">
          <span>Number of unique tracks:</span>
          <span class="text-xl font-black text-pure-white">
            {{ this.listeningDataRecord()?.uniqueTracksNumber || 0 }}
          </span>
        </p>
      </div>

      <a
        routerLink="/extended-history/upload"
        class="py-2 px-2 sm:px-8 w-full sm:w-max font-black text-lg sm:text-base text-center bg-primary rounded-sm hover:bg-primary-light"
        >Upload more</a
      >
    </div>
    <div>
      @if (this.loadingState() === 'all-resolved' || this.loadingState() === 'resolved') {
        <app-user-top-extended />
      } @else if (this.loadingState() === 'loading') {
        <div class="w-full flex justify-center align-center h-">
          <div class="flex flex-row items-center justify-center gap-2">
            <p>loading your extended history...</p>
            <div class="h-[32px] w-[32px]">
              <app-loading-spinner />
            </div>
          </div>
        </div>
      } @else if (this.loadingState() === 'error') {
        <div class="w-full flex justify-center align-center h-">
          <p class="text-red">An error occurred while loading your extended history.</p>
        </div>
      } @else {
        {{ this.loadingState() }}
      }
    </div>
  </div>
} @else {
  <div class="w-full h-[50vh] flex flex-col items-center justify-center gap-4 p-4">
    <a
      routerLink="/extended-history/upload"
      class="py-2 px-2 sm:px-8 w-full sm:w-max font-black text-lg sm:text-base text-center bg-primary rounded-sm"
      >Upload data</a
    >
  </div>
}
